<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>xg.Controller</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="xg-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="xg-module.html">Module&nbsp;xg</a> ::
        Class&nbsp;Controller
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[<a href="../private/xg.Controller-class.html">show&nbsp;private</a>&nbsp;|&nbsp;hide&nbsp;private]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="xg.Controller-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class Controller</h2>

<pre class="base-tree">
<a href="xg.GridManager-class.html"><code>GridManager</code></a> --+
              |
 <a href="xg.JobManager-class.html"><code>JobManager</code></a> --+
              |
             <b>Controller</b>
</pre><br />

<hr/>

A class for working with an Xgrid controller.
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.Controller-class.html#__init__" class="summary-sig-name"><code>__init__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>connection</span>,
          <span class=summary-sig-arg>update</span>)</span></code>
<br />
This class provides an interface to an Xgrid controller.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        Job
</font></td>
  <td><code><span class="summary-sig"><a href="xg.Controller-class.html#batch" class="summary-sig-name"><code>batch</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>specification</span>,
          <span class=summary-sig-arg>gridID</span>,
          <span class=summary-sig-arg>silent</span>)</span></code>
<br />
Submits a batch job to the specified grid.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        Job
</font></td>
  <td><code><span class="summary-sig"><a href="xg.Controller-class.html#submit" class="summary-sig-name"><code>submit</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>cmd</span>,
          <span class=summary-sig-arg>args</span>,
          <span class=summary-sig-arg>stdin</span>,
          <span class=summary-sig-arg>indir</span>,
          <span class=summary-sig-arg>email</span>,
          <span class=summary-sig-arg>gridID</span>)</span></code>
<br />
Submits a single task job to the specified grid.</td></tr>
<tr bgcolor="#e8f0f8" class="group">
  <th colspan="2">&nbsp;&nbsp;&nbsp;&nbsp;Inherited from JobManager</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#deleteAll" class="summary-sig-name"><code>deleteAll</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Deletes all active jobs.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#job" class="summary-sig-name"><code>job</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>jobID</span>,
          <span class=summary-sig-arg>update</span>)</span></code>
<br />
Returns the Job object with job identifier id.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        tuple
</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#jobIDs" class="summary-sig-name"><code>jobIDs</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>update</span>)</span></code>
<br />
Returns a tuple of job identifiers for all active jobs.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        list
</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#jobs" class="summary-sig-name"><code>jobs</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>update</span>)</span></code>
<br />
Returns a list of initialized Job objects for all active jobs.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#perform" class="summary-sig-name"><code>perform</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>action</span>,
          <span class=summary-sig-arg>jobIDs</span>)</span></code>
<br />
Performs an action on a subset of active jobs.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#printJobs" class="summary-sig-name"><code>printJobs</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Prints information about all active Xgrid jobs.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#restartAll" class="summary-sig-name"><code>restartAll</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Restarts all active jobs.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#resumeAll" class="summary-sig-name"><code>resumeAll</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Resumes all active jobs.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#stopAll" class="summary-sig-name"><code>stopAll</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Stops all active jobs.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.JobManager-class.html#suspendAll" class="summary-sig-name"><code>suspendAll</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Suspends all active jobs.</td></tr>
<tr bgcolor="#e8f0f8" class="group">
  <th colspan="2">&nbsp;&nbsp;&nbsp;&nbsp;Inherited from GridManager</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.GridManager-class.html#grid" class="summary-sig-name"><code>grid</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>gridID</span>,
          <span class=summary-sig-arg>update</span>)</span></code>
<br />
Returns the Grid object with grid identifier gridID.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.GridManager-class.html#gridIDs" class="summary-sig-name"><code>gridIDs</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>update</span>)</span></code>
<br />
Returns a tuple of grid identifiers for all avialable grids.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="xg.GridManager-class.html#grids" class="summary-sig-name"><code>grids</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>update</span>)</span></code>
<br />
Returns a list of initialized Grid objects.</td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="__init__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>connection</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>update</span>=<span class=sig-default>0</span>)</span>
    <br /><i>(Constructor)</i>
  </h3>
  <p>This class provides an interface to an Xgrid controller.</p>
  <p>An Xgrid controller is a single machine that manages a set of of 
  grids. Each grid in turn, consists of a set of agents and jobs running 
  on the agents.</p>
  <p>This class provides access to the grids and jobs managed by the 
  controller. In Xgrid, both grids and jobs have identifiers, which are 
  unicode strings, like u'0', but this module can take identifiers as 
  strings or integers as well.</p>
  <p>Controller and Grid objects can be used to submit Xgrid jobs, but 
  the Job class is used to retrieve job results.</p>
  The Controller is only the JobManager for the default Grid. To 
  access the jobs of other grids, create instances of their Grid 
  objects.
  <h1 class="heading">Examples</h1>
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>cn = Connection(<span class="py-string">'myhost'</span>,<span class="py-string">'mypassword'</span>)</span></pre>
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>c = Controller(cn)</span></pre>
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>c.jobIDs()</span>
<span class="py-output">(1, 2, 3)</span></pre>
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>j1 = c.job(<span class="py-string">'1'</span>)     <span class="py-comment"># Get an initialized Job object with id = '1'</span>
<span class="py-prompt">&gt;&gt;&gt; </span>j1</span>
<span class="py-output">&lt;Job with id = 1&gt;</span></pre>
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>c.grid_ids()        <span class="py-comment"># List the grid ids</span></span>
<span class="py-output">('0',)</span></pre>
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>c.grid(<span class="py-string">'10'</span>)        <span class="py-comment"># Get an initialized Grid object with id = '10'</span></span>
<span class="py-output">&lt;Grid with gridID = 10&gt;</span></pre>
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>c.grid()            <span class="py-comment"># Get the Grid boject for the default grid</span></span></pre>
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>connection</b></code> -
         Instance of Connection class. If empty a default Connection 
        object is used.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=Connection)</i>
      <dd><code><b>update</b></code> -
         A boolean flag that determines whether or not the internal 
        state is updated upon creation. This involves a call to the Xgrid 
        controller.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=boolean)</i>
      </dd>
    </dl>
    <dl><dt><b>Overrides:</b></dt>
      <dd><a href="xg.JobManager-class.html#__init__"><code>xg.JobManager.__init__</code></a></dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="batch"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">batch</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>specification</span>,
          <span class=sig-arg>gridID</span>=<span class=sig-default>u'0'</span>,
          <span class=sig-arg>silent</span>=<span class=sig-default>False</span>)</span>
  </h3>
  <p>Submits a batch job to the specified grid.</p>
  <p>This is a nonblocking job submission method used for submitting 
  complex multi-task jobs. For single task jobs, use submit().</p>
  To retrieve job results, use the results() method of the Job 
  object.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>specification</b></code> -
         The job specification of the job, which must be an instance of 
        the JobSpecification class. See the docstring for 
        JobSpecification for more details.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=JobSpecification)</i>
      <dd><code><b>gridID</b></code> -
         The identifier of the Grid to which the job will be submitted. 
        If empty, the default grid u'0' is used.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=unicode, str or int)</i>
      <dd><code><b>silent</b></code> -
         If set to True will slience all messages.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=boolean)</i>
      </dd>
    </dl>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        Initialized Job object for sumbitted job.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=Job)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="submit"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">submit</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>cmd</span>,
          <span class=sig-arg>args</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>stdin</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>indir</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>email</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>gridID</span>=<span class=sig-default>u'0'</span>)</span>
  </h3>
  <p>Submits a single task job to the specified grid.</p>
  <p>This is a nonblocking job submission method for a single job with no 
  sub-tasks. For more complicated jobs with sub-tasks, use the batch() 
  method and the JobSpecification class.</p>
  Job results can be obtained by calling the results() method of the 
  Job object.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>cmd</b></code> -
         The command the execute as a string. The executable is not 
        copied if the full path is given, otherwise it is.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=str)</i>
      <dd><code><b>args</b></code> -
         The command line arguments to be passed to the command.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=list or str)</i>
      <dd><code><b>stdin</b></code> -
         A local file to use as the stdin stream for the job.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=str)</i>
      <dd><code><b>indir</b></code> -
         A local directory to copy to the remote agent.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=str)</i>
      <dd><code><b>email</b></code> -
         An email to which notification will be send of various job 
        state changes.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=str)</i>
      <dd><code><b>gridID</b></code> -
         The identifier of the Grid to which the job will be submitted. 
        If empty, the default grid u'0' is used.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=unicode, str or int)</i>
      </dd>
    </dl>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        Initialized Job object for sumbitted job.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=Job)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="xg-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" width="100%"></th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Thu Dec 22 15:15:21 2005</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
